version: 1
name: gdggug-frontend
type: service
build:
  dockerfile: Dockerfile
  context: .
  args:
    - NODE_ENV=production
deploy:
  replicas: 1
  resources:
    cpu: 100m
    memory: 256Mi
  env:
    - name: REACT_APP_API_URL
      value: ${BACKEND_URL}
    - name: NODE_ENV
      value: production
  ports:
    - port: 80
      protocol: http
      public: true
  health:
    path: /
    port: 80
    initialDelay: 30
    period: 10
    timeout: 5
    successThreshold: 1
    failureThreshold: 3 